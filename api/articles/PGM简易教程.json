{"title":"PGM简单教程","uid":"e00aef4755561510fc8cc1a0fc4fc852","slug":"PGM简易教程","date":"2021-11-01T09:53:03.000Z","updated":"2021-12-30T02:26:15.418Z","comments":true,"path":"api/articles/PGM简易教程.json","keywords":null,"cover":[],"content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>PGM简单教程 beta 0.9 by History_exe</p>\n<p>博客：<a href=\"https://history-exe.github.io/\">https://history-exe.github.io/</a></p></blockquote>\n<h1 id=\"PGM简单教程\"><a href=\"#PGM简单教程\" class=\"headerlink\" title=\"PGM简单教程\"></a>PGM简单教程</h1><h2 id=\"一、新手上路\"><a href=\"#一、新手上路\" class=\"headerlink\" title=\"一、新手上路\"></a>一、新手上路</h2><h3 id=\"什么是PGM\"><a href=\"#什么是PGM\" class=\"headerlink\" title=\"什么是PGM\"></a>什么是PGM</h3><p>​        PGM，全称为<strong>Pocket Game Maker</strong>，是由「掌机开发者之家」的白枫开发。最初制作的意愿是为了能自制类似“逆转裁判”的游戏。但现在被主要用来移植AVG类、视觉小说类游戏。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/game_start.png\" class=\"\">\n</div>\n\n<p>​        使用PGM移植的游戏有很多，现存的PSP移植游戏绝大多数都是使用PGM移植的。本教程的作者，也就是我（History_exe）也使用PGM移植了miHoYo的崩坏3视觉小说《逆熵Anti-Entropy》和《幽兰黛尔》。相关下载地址详见我的博客（<a href=\"https://history-exe.github.io/%EF%BC%89\">https://history-exe.github.io/）</a></p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/snap010.jpg\" class=\"\">\n</div>\n\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/snap009.jpg\" class=\"\">\n</div>\n\n<p>​        PGM是由<strong>lua语言</strong>编写而成，对外提供端口，可以自行添加代码对引擎进行”魔改”。其中比较著名的魔改版本也是我所使用过的魔改版本。其名称为**PocketGameMaker-ConvertedEdition-**（可简称为PGM CE版），此魔改版添加了4种简易的天气系统和隐藏对话框的功能。因为考虑到是移植AVG游戏，所以以下教程均以魔改版为基础进行讲解。</p>\n<p>​        与PGM有关的引擎很多，下表详细介绍了各个版本的特点：</p>\n<table>\n<thead>\n<tr>\n<th>引擎名称</th>\n<th align=\"left\">引擎描述</th>\n<th align=\"left\">引擎最新版本</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>AMP</td>\n<td align=\"left\">为旧版本引擎</td>\n<td align=\"left\">v0.75</td>\n</tr>\n<tr>\n<td>PGM—Pocket Game Maker</td>\n<td align=\"left\">跨平台的RPG引擎，现在使用的非魔改版本的PGM(AMP)引擎就是由此开发的专用AVG引擎</td>\n<td align=\"left\">作者已经放弃该项目</td>\n</tr>\n<tr>\n<td>PGM(AMP)</td>\n<td align=\"left\">为新版AMP引擎，此引擎由PGM—Pocket Game Maker派生</td>\n<td align=\"left\">v0.83，作者表示程序源代码已经遗失，因此此引擎无法继续开发</td>\n</tr>\n<tr>\n<td>PGM CE</td>\n<td align=\"left\">PGM CE引擎基于PGM(AMP)开发，是功能完备的AVG引擎</td>\n<td align=\"left\">v0.83</td>\n</tr>\n</tbody></table>\n<hr>\n<h3 id=\"搭建PGM环境\"><a href=\"#搭建PGM环境\" class=\"headerlink\" title=\"搭建PGM环境\"></a>搭建PGM环境</h3><ul>\n<li>下载并解压PGM CE版到你认为合适的位置。通常建议放到空间比较大的盘里，不建议放在桌面。本教程我的根目录为<code>\\PGM_CE</code>。</li>\n<li>打开文件夹，点击<strong>install.bat</strong>文件去安装PGM_CE在电脑上试运行的必要文件。（此动作会复制<code>\\PGM_CE\\tools\\winxp_dll</code>内的文件到<code>PGM_CE\\bin</code>目录下，如果没有自动复制，可以手动将文件复制到<code>PGM_CE\\bin</code>目录下）</li>\n<li>在<code>\\PGM_CE\\src\\user</code>下，使用电脑自带的记事本程序打开<strong>first.ev</strong>文件。（.ev文件，是PGM专用的脚本文件，但其本质上还是文本文件，可以使用任何文本编辑软件进行编辑和保存。）</li>\n<li>复制下面的代码到<strong>first.ev</strong>文件内，并保存文本。</li>\n</ul>\n<pre class=\"line-numbers language-PGM\" data-language=\"PGM\"><code class=\"language-PGM\">allclear()\t--清空被占用的内存\nmsgboxon()\t--显示文字背景框\n\ntext(&quot;Hello, PGM.&quot;)\t--此代码将显示字体颜色为黑色的Hello, PGM.\ntextcl()\t--此代码作用为在显示完上一句话之后清除文字</code></pre>\n\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81.jpg\" class=\"\">\n</div>\n\n<ul>\n<li><p>点击<strong>\\PGM_CE</strong>文件夹下的<strong>pack.bat</strong>，再点击<strong>run.bat</strong>。<br> 如果成功出现文字：<strong>Hello, PGM.</strong> 则环境配置完毕。</p>\n <div  align=\"center\">\n <img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%E5%9B%BE.jpg\" class=\"\">\n </div></li>\n</ul>\n<p> 注：<strong>pack.bat</strong>用来打包图片等不包括脚本的资源文件，<strong>run.bat</strong>专门用来打包资源文件。</p>\n<hr>\n<h4 id=\"文件夹介绍\"><a href=\"#文件夹介绍\" class=\"headerlink\" title=\"文件夹介绍\"></a>文件夹介绍</h4><h5 id=\"根目录介绍\"><a href=\"#根目录介绍\" class=\"headerlink\" title=\"根目录介绍\"></a>根目录介绍</h5><div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D.jpg\" class=\"\">\n</div>\n\n<ul>\n<li><p><strong>bin文件夹</strong>：存放非图片脚本资源（包括背景音乐、人物语音、字体、音效和视频）</p>\n</li>\n<li><p><strong>src文件夹</strong>：存放脚本、图片资源。</p>\n</li>\n<li><p><strong>tools文件夹</strong>：PGM的一些工具。</p>\n</li>\n<li><p><strong>install.bat</strong>：将PGM必须的dll复制进bin文件夹的批处理</p>\n</li>\n<li><p><strong>pack.bat</strong>：批处理打包，若更改除剧情脚本之外的文件之后，必需要重新打包。保险做法是作出更改之后就打包。</p>\n</li>\n<li><p><strong>run.bat</strong>：测试游戏，点击后可在PC端查看游戏运行效果，会产生两个窗口，一个是cmd的debug窗口，另一个是游戏运行窗口。</p>\n</li>\n<li><p><strong>更新内容.txt</strong>：PGM CE版是以PGM为基础修改而来，部分命令与PGM不同，此文本记录了PGM CE版的一些基础命令。</p>\n</li>\n<li><p><strong>目录介绍.txt</strong>：PGM中，某些文件放置的位置是有详细规定的，此文本简要的记录了PGM CE版文件层次和不同文件夹的作用。</p>\n<p><strong>提醒：根目录尽量不要放置其他无关文件或者工程文件，防止发布游戏时分不清哪个是必要的文件。</strong></p>\n</li>\n</ul>\n<hr>\n<h5 id=\"文件夹层次介绍\"><a href=\"#文件夹层次介绍\" class=\"headerlink\" title=\"文件夹层次介绍\"></a>文件夹层次介绍</h5><p>​    详细的各个文件夹作用如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[根目录]\n├bin文件夹\n│├ data文件夹\t\t--资源文件夹(主要存放音频、视频、字体文件的地方)\n││├ bgm文件夹\t\t--背景音乐文件夹\n││├ sound文件夹\t\t--音效文件夹\n││├ voice文件夹\t\t--语音文件夹\n││├ video文件夹\t\t--视频文件夹(目前仅支持pmp格式)\n││├ font文件夹\t\t--字体文件夹\n││├ system文件夹\t\t--系统文件夹\n││├ (gmcode.bin)\t\t--脚本封包文件(点击run.bat生成)\n││└ (gmdata.bin)\t\t--图片封包文件(点击pack.bat生成)\n│├ engine.sys\t\t--引擎主文件\n│├ pgm.ini\t\t--引擎配置文件\n│├ win32main.exe\t--PC端运行程序\n│└ (PGMSAVEDATA)\t--存档文件夹(自动生成)\n├src文件夹\t--资源文件夹(主要存放图片、脚本文件的地方)\n│├file文件夹\t\t--图片文件夹(图片必须存放进这里)\n││├bg文件夹\t\t\t--背景文件夹\n││├fg文件夹\t\t\t--立绘文件夹\n││├rule文件夹\t\t--遮片文件夹\n││├title文件夹\t\t--标题文件夹\n││├gallery文件夹\t\t--画廊文件夹\n│││├cg文件夹\t\t\t--游戏CG文件夹\n│││├thumb文件夹\t\t\t--CG缩略图文件夹（缩略图文件名限定&quot;thumb_&quot;+CG文件名）\n│││└CGlist.lua\t\t\t--CG清单（注册用到的CG）\n││├system文件夹\t\t--系统文件夹\n││├menu文件夹\t\t--菜单文件夹\n││├saves文件夹\t\t--存档文件夹\n││└user文件夹\t\t--用户文件夹\n│├system文件夹\t--系统脚本文件夹(请勿擅自修改)\n│├user文件夹\t\t--用户脚本文件夹\n││└first.ev\t\t\t--剧情脚本\n│├am_start.ev\t\t--用户脚本主入口\n│├ce_init.lua\t\t--用户参数设置文件\n│└KeySetting.lua\t--按键功能设置文件\n├tools文件夹\t--实用小工具集合\n├install.bat\t--配置运行环境(第一次使用此引擎的用户请先运行)\n├pack.bat\t--打包游戏资源(更新图片素材必须重新打包)\n└run.bat\t--调试游戏(已包含打包脚本功能)</code></pre>\n\n<hr>\n<h4 id=\"文本编辑软件推荐\"><a href=\"#文本编辑软件推荐\" class=\"headerlink\" title=\"文本编辑软件推荐\"></a>文本编辑软件推荐</h4><p>​        PGM所能制作/移植的游戏主要以文字为主，因此选好文本编辑软件很重要。</p>\n<p><strong>Visual Studio Code</strong>（Linux/Windows平台）</p>\n<p>​        对于PGM这种只需要文本编辑的方式，Visual Studio Code足矣，像是重型的Visual Studio完全不需要也用不上。</p>\n<p>**NotePad++**（Linux/Windows平台）</p>\n<p>​        对于追求更清爽简单的人来说，NotePad++也是一个不错的选择，如果你会自己设置NotePad++的自定义代码高亮，那对于移植来说简直是如虎添翼。</p>\n<hr>\n<h4 id=\"图片处理软件推荐\"><a href=\"#图片处理软件推荐\" class=\"headerlink\" title=\"图片处理软件推荐\"></a>图片处理软件推荐</h4><p><strong>Gimp</strong>（Linux/Windows平台）</p>\n<p>​        开源的图像处理软件，下载即用。无需破解，不用担心病毒。若需要使用批处理功能，则需要下载插件。</p>\n<p><strong>Photoshop</strong>（Windows平台）</p>\n<p>​        知名图像处理软件，如果你可以使用正版，那直接使用Photoshop就好。</p>\n<hr>\n<h4 id=\"视频编辑软件推荐\"><a href=\"#视频编辑软件推荐\" class=\"headerlink\" title=\"视频编辑软件推荐\"></a>视频编辑软件推荐</h4><p>​        或许你的项目涉及到了视频，视频编辑软件有很多，这里仅简单介绍。</p>\n<p><strong>Shotcut</strong>（Linux/Windows平台）</p>\n<p>​        开源的视频编辑软件，下载即用。</p>\n<p>​        Shotcut我还没有完全用明白，仅使用到了将帧图片转为视频、裁减拼接视频和给视频增减音乐的功能，但这些功能已经足矣。</p>\n<p><strong>完美者转码</strong>（Windows平台）</p>\n<p>​        本软件可以将一般格式的视频文件转码为PSP专用的pmp格式视频，pmp是PSP中游戏内视频专用的格式。</p>\n<hr>\n<h3 id=\"程序脚本和剧情脚本\"><a href=\"#程序脚本和剧情脚本\" class=\"headerlink\" title=\"程序脚本和剧情脚本\"></a>程序脚本和剧情脚本</h3><p>​        PGM中的文本文件大致分为两大类：<strong>程序脚本</strong>和<strong>剧情脚本</strong>。</p>\n<p><strong>程序脚本</strong>：主要是PGM一些代码的封装，其格式大多数为<code>.lua</code>格式，其实就是lua脚本，一般不需要更改。</p>\n<p><strong>剧情脚本</strong>：<strong>剧情脚本文件是我们需要从零开始写的</strong>，其格式为<code>.ev</code>格式。创建此格式的文件也十分简单，只需要新建一个<code>.txt</code>格式的文本文件，之后重命名，改为<code>.ev</code>文件即可，最好使用上面提供的文字编辑软件，因为剧情脚本文件对编码还有特定要求，即编码格式必须为<code>GB2312</code>。</p>\n<hr>\n<h2 id=\"二、基础用法\"><a href=\"#二、基础用法\" class=\"headerlink\" title=\"二、基础用法\"></a>二、基础用法</h2><h3 id=\"显示对话\"><a href=\"#显示对话\" class=\"headerlink\" title=\"显示对话\"></a>显示对话</h3><p>​        对话，是文字类游戏的灵魂，学会如何显示对话是基础中的基础。</p>\n<h4 id=\"显示文字\"><a href=\"#显示文字\" class=\"headerlink\" title=\"显示文字\"></a>显示文字</h4><p>显示文字的方法如下：</p>\n<p>​        你可以自由更改双引号里的内容。需要注意的是文字编码格式必须是**<code>GB2312</code>**，且英文和中文全部为半角输入，否则显示出来的文字是乱码。 </p>\n<p>​        PGM使用lua语言进行系统脚本封装，在剧情脚本文件和程序脚本文件中，其添加注释的方式与lua语言类似，单行注释使用“<code>--</code>”。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">allclear()\t--清空被占用的内存\nmsgboxon()\t--显示文字背景框\n\n--简单显示一句话\ntext(&quot;这是一句话&quot;)\ntextcl()\n\n--显示一句话的同时附带人物名字\ntext(&quot;人物名字&quot;,&quot;说的话&quot;)\ntextcl()</code></pre>\n\n<p><code>allclear()</code>：此命令可以清空被占用的内存。<strong>每个剧情脚本的开头一定要写此命令</strong>。此外，这个命令也是万金油命令，当游戏在PPSSPP或者PSP实机验证过程中出现卡死的bug，可以尝试在会卡死的位置前添加此命令以预留足够内存。PSP的卡死bug一般都为内存不足。</p>\n<p><code>msgboxon()</code>：显示文字背景框的命令。此命令在一般情况下只需在剧情脚本中使用一次，文字背景框便会一直显示。特殊情况需要关闭文字背景框使用<code>msgboxoff()</code>命令。</p>\n<p><code>text()</code>：显示文字的命令。可以显示不带有任命的旁白或者带有人物名字的人物对话。需要注意，本命令中要显示的文字都需要被<strong>英文双引号</strong>包括。</p>\n<p>如果对话带有人物名字，人物名字和其对话内容都分别需要英文双引号包括，且之间需要有一个<strong>英文逗号</strong>隔开。</p>\n<p><code>textcl()</code>：将上一句话从屏幕清除，<strong>也可作为关闭文字命令使用</strong>。正常情况下，每个对话都需要在下一行带有这个命令，若想实现两句话或者多句话的接续显示效果，则可以在相应对话后不使用<code>textcl()</code>，即可达成文字连续显示效果。</p>\n<hr>\n<h4 id=\"颜色标签\"><a href=\"#颜色标签\" class=\"headerlink\" title=\"颜色标签\"></a>颜色标签</h4><p>​        PGM的文字对话中，颜色标签标准格式为<code>[c=FFFFFF]...[/c]</code>，其中“FFFFFF”代表颜色的hex值，可自行替换，不限制大小写，但是不带有“#”。</p>\n<p>​        在一个对话中，可以使用多个颜色标签，颜色标签可嵌套且可任意设置要指定颜色的文字，示例如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">allclear()\nmsgboxon()\n\n--在一句话中显示多个颜色的文字\ntext(&quot;[c&#x3D;FF0000]红[&#x2F;c][c&#x3D;00FF00]绿[&#x2F;c][c&#x3D;0000FF]蓝[&#x2F;c]&quot;)\ntextcl()\n\n--人物名也可以制定特定颜色，颜色标签嵌套且可任意设置要指定颜色的文字\ntext(&quot;[c&#x3D;DDCAB3]丽塔[&#x2F;c]&quot;,&quot;麻烦的[c&#x3D;FF0000]事[&#x2F;c]交给我，不能脏了您的手。&quot;)</code></pre>\n\n<p>显示效果如图：</p>\n<div  align=\"center\">\n\n</div>\n\n<div  align=\"center\">\n\n</div>\n\n<p>​        颜色标签在PGM中是可选的。并不是每句话都非得带颜色标签。PGM有一个固定位置可以<strong>全局设置字体的颜色</strong>。</p>\n<hr>\n<h3 id=\"显示背景\"><a href=\"#显示背景\" class=\"headerlink\" title=\"显示背景\"></a>显示背景</h3><p>​        PGM支持的图片格式有<strong>jpeg</strong>、<strong>png</strong>和<strong>bmp</strong>三种格式。<strong>但单张图片的横、竖分辨率不能超过512像素，这是由于PSP自身的硬件条件限制，无法改变</strong>。加载横、竖分辨率超过512的图片都将导致PSP实机测试时死机。</p>\n<p>​        在PGM中，显示、播放大部分资源都需要对其进行<strong>编号</strong>，背景图片的编号只有2个，即1或2；立绘图片的编号有32个，但有某些特殊编号被保留用作显示系统相关图片，保留编号将在后续详细说明。</p>\n<p>​        PGM中图片的<strong>坐标原点</strong>为图片左上角。两张图片重叠时可以用图片处理软件中图层概念来理解，图片编号大的覆盖在图片编号小的图片上。背景图片，即bg处于最底层，文字处于最顶层，而立绘处于中间，而文字对话框处于文字和立绘之间。</p>\n<p>背景、立绘、文字对话框、文字层次关系如图所示：</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E7%90%86%E8%A7%A3%E5%9B%BE%E5%B1%8201.png\" class=\"\">\n</div>\n\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E7%90%86%E8%A7%A3%E5%9B%BE%E5%B1%8202.png\" class=\"\">\n</div>\n\n<hr>\n<h4 id=\"显示背景图片\"><a href=\"#显示背景图片\" class=\"headerlink\" title=\"显示背景图片\"></a>显示背景图片</h4><p>​        背景图片在图层级别上低于立绘图片，也就是说，显示时背景图片会显示在立绘图片下方。</p>\n<p>显示背景图片命令如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--显示背景图片\n_bg(number,file,effect,time)\nbgxy(number,dx,dy)\nbgon(number)</code></pre>\n\n<p>以上命令可以显示一张背景图片，其中：</p>\n<p>第一行：</p>\n<p><code>_bg(number,file,effect,time)</code>：代表加载图片，此图片已经被加载到内存中，但未显示。</p>\n<p><code>_bg</code>：加载背景图片的命令，此命令显示的图片效果更好，不会使图片出现“水波纹”，默认已启用“IMG_8888”。</p>\n<p><code>number</code>：代表图层编号，bg只能有两个图层编号，即1或2。显示背景的三行命令中，图片的number是一样的。</p>\n<p><code>file</code>：代表你要加载的背景图片的全文件名，包括其格式，而且还需要带上英文引号，例如：”bg_01.jpg”。</p>\n<p><code>effect</code>：代表效果编号，一共有6个：0，立刻显示，无效果；1，淡入；2，淡出；3，震动；4，遮片（顺时针）；5，遮片（逆时针）。</p>\n<p><code>time</code>：代表效果的持续时间。PGM中，1000为1秒。bg一般淡入淡出都是1000。</p>\n<p><code>IMG_XXXX</code>：此变量非必填，可以设置显示质量，_bg命令默认为IMG_8888，IMG_8888代表以画质最高形式显示。</p>\n<p>第二行：</p>\n<p><code>bgxy(number,dx,dy)</code>：代表你想把已经加载的图片显示到屏幕的什么位置，若显示背景图片时不使用此命令，背景图片默认被加载到(0,0)位置。</p>\n<p><code>bgxy</code>：设置你要显示背景图片在屏幕上的位置</p>\n<p><code>number</code>：代表图层编号，此处图层编号需与_bg命令中图层编号一致。</p>\n<p><code>dx</code>、<code>dy</code>：代表你想显示图片位置的横、纵坐标。</p>\n<p>第三行：</p>\n<p><code>bgon(number)</code>：显示图片命令。</p>\n<p><code>bgon</code>：此命令为显示图片命令，缺少此命令，图片不会显示。</p>\n<p><code>number</code>：代表图层编号，此处图层编号需与_bg命令中图层编号一致。</p>\n<hr>\n<h4 id=\"关闭背景图片\"><a href=\"#关闭背景图片\" class=\"headerlink\" title=\"关闭背景图片\"></a>关闭背景图片</h4><p>​        关闭背景图片命令有两个，<code>bgoff()</code>和<code>bgnull()</code>，下面讲解两个命令的异同：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--关闭背景图片，但不在内存中清除。\nbgoff(number)\n\n--关闭背景图片，并在内存中清除图片。\nbgnull(number)</code></pre>\n\n<p><code>number</code>：代表你想关闭的背景图片的编号。</p>\n<p><code>bgoff</code>：命令多用于暂时的关闭背景图片，且不需要清除背景图片的情况。此命令关闭的图片不需要重新加载即可再次通过<code>bgon</code>命令显示。应用场景可以是关闭背景图片，然后不显示任何背景图片，然后紧接着需要再次显示此背景图片的情况。</p>\n<p><code>bgnull</code>：命令是关闭图片的同时也一同在内存中清除图片。可以有效地防止图片加载过多爆内存的情况。因此我绝大多数情况下都会使用<code>bgnull</code>来关闭背景图片。</p>\n<hr>\n<h3 id=\"显示立绘\"><a href=\"#显示立绘\" class=\"headerlink\" title=\"显示立绘\"></a>显示立绘</h3><p>​        立绘，多指人物立绘。但有时也有其他用法，比如需要在显示一些特别字体的文字，GB2312编码无法涵盖，此时就可以将想显示的特殊文字通过编辑为图片的方式，以图片的形式在PGM中显示。</p>\n<h4 id=\"显示立绘图片\"><a href=\"#显示立绘图片\" class=\"headerlink\" title=\"显示立绘图片\"></a>显示立绘图片</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">--显示人物立绘\n_fg(number,file,effect,time)\nfgxy(number,dx,dy)\nfgon(number)</code></pre>\n\n<p>第一行：</p>\n<p><code>_fg(number,file,effect,time)</code>：代表加载立绘图片，此图片已经被加载到内存中，但未显示。</p>\n<p>此命令也可以添加<code>IMG_8888</code>选项以提高立绘显示的画质，但画质提升的效果仅在立绘有透明通道时效果明显，可有效消除“水波纹”现象。添加后的代码为“<code>_fg(number,file,effect,time,IMG_8888)</code>”，添加后会加大内存占用，使用时需谨慎。</p>\n<p><code>number</code>：代表图层编号，fg有32个图层编号，但某些编号可能被某些系统图片占用。显示立绘的三行命令中，图片的number是一样的。</p>\n<p><code>file</code>：代表你要加载的立绘图片的全文件名，包括其格式，而且还需要带上英文引号，例如：”fg_01.jpg”。</p>\n<p><code>effect</code>：代表效果编号，一共有6个：0，立刻显示，无效果；1，淡入；2，淡出；3，震动；4，遮片（顺时针）；5，遮片（逆时针）。</p>\n<p><code>time</code>：代表效果的持续时间。PGM中，1000为1秒。fg一般淡入淡出都是200。</p>\n<hr>\n<h4 id=\"关闭立绘图片\"><a href=\"#关闭立绘图片\" class=\"headerlink\" title=\"关闭立绘图片\"></a>关闭立绘图片</h4><p>关闭立绘图片命令有两个，<code>fgoff()</code>和<code>fgnull()</code>，两个命令的异同可参考<code>bgoff()</code>和<code>bgnull()</code>。</p>\n<hr>\n<h3 id=\"播放视频\"><a href=\"#播放视频\" class=\"headerlink\" title=\"播放视频\"></a>播放视频</h3><p>​        PGM也可以播放视频，不过其对视频的格式有特殊要求。PGM只支持pmp格式的视频，pmp是Sony PSP特有的视频格式。关于其制作方法请详见我的博文。</p>\n<p>​        <strong>由于PGM的特性，如果不在播放音频之前播放一遍视频的话，播放音频是无效的。简单来说，你移植的游戏中如果需要播放音频，那么就必须要在整个工程的开头首先播放一次视频，只有这样，音频才能有效。</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--播放视频\nvideo(file)</code></pre>\n\n<hr>\n<h3 id=\"播放音频\"><a href=\"#播放音频\" class=\"headerlink\" title=\"播放音频\"></a>播放音频</h3><p>​        PGM支持wav、mp3两种格式的音频文件。支持同时播放2个mp3和4个wav。不同格式通常有不同的用法。PGM中的音频可分为三大类：背景音乐、音效、人物语音。</p>\n<p>​        通常背景音乐使用mp3格式的音频，音效和人物语音使用wav格式的音频。</p>\n<hr>\n<h4 id=\"播放音频-1\"><a href=\"#播放音频-1\" class=\"headerlink\" title=\"播放音频\"></a>播放音频</h4><p>代码示例如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--播放背景音乐\nbgm(file)\n\n--播放音效\nsound(file)\n\n--播放人物语音\nvoice(file)</code></pre>\n\n<p>​        上述bgm、sound和voice命令虽然没有编号，但其实其默认的编号都是1，在停止播放时需要音频的编号。</p>\n<hr>\n<h4 id=\"停止播放音频\"><a href=\"#停止播放音频\" class=\"headerlink\" title=\"停止播放音频\"></a>停止播放音频</h4><p>​        一般只有背景音乐会出现需要停止的情况。因为音效和人物语音一般都不需要在播放过程中停止。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--停止播放背景音乐\nbgmstop(number)\n\n--停止播放音效\nsoundstop(number)\n\n--停止播放人物语音\nvoicestop(number)</code></pre>\n\n<p>​        音频是PGM资源中，内存占用很大的一部分，对于使用完毕的音频要及时将其从内存中清除。音效一般占用较小，影响不大，不需要清除。人物语音播放完毕后会自动清除。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--清除背景音乐\nbgmnull(number)</code></pre>\n\n<hr>\n<h3 id=\"将文件打包成ISO\"><a href=\"#将文件打包成ISO\" class=\"headerlink\" title=\"将文件打包成ISO\"></a>将文件打包成ISO</h3><h4 id=\"打包方法\"><a href=\"#打包方法\" class=\"headerlink\" title=\"打包方法\"></a>打包方法</h4><ol>\n<li><p>进入<code>PGM_CE\\tools</code>文件夹内，解压<strong>PGM.v0.83主引擎文件.zip</strong>压缩包，进入<code>PSP(ISO)</code>文件夹，解压<strong>UMDGen.zip</strong>压缩包，打开软件<strong>UMDGen.exe</strong>，由于是汉化原因，可能会被杀毒软件误报为病毒。</p>\n</li>\n<li><p>将<code>PSP(PBP)</code>中<strong>EBOOT.PBP</strong>文件复制进<code>PSP(ISO)\\PSP_GAME\\SYSDIR</code>文件夹内。</p>\n</li>\n<li><p>将<code>PSP_GAME</code>文件夹拖进右边的框里。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/INK%E6%89%93%E5%8C%85ISO%E6%95%99%E7%A8%8B02.jpg\" class=\"\">\n</div></li>\n<li><p>在UMDGen软件中进入<code>SYSDIR</code>文件夹</p>\n</li>\n<li><p>将PGM_CE工程的bin目录中的<strong>data</strong>文件夹、<strong>engine.sys</strong>、和<strong>pgm.ini</strong>文件全部复制到<strong>SYSDIR</strong>文件夹中。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/INK%E6%89%93%E5%8C%85ISO%E6%95%99%E7%A8%8B03.jpg\" class=\"\">\n</div>\n\n\n\n<p>打包前的最终状态如下图：</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E6%89%93%E5%8C%85ISO%E6%95%99%E7%A8%8B04.jpg\" class=\"\">\n</div></li>\n<li><p>点击保存按钮，保存成ISO格式，打包完成。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/INK%E6%89%93%E5%8C%85ISO%E6%95%99%E7%A8%8B05.jpg\" class=\"\">\n</div></li>\n</ol>\n<hr>\n<h4 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h4><p>1 保存的ISO文件名不能为中文或日文，必须为英文或英文加数字，这是PSP系统的限制。否则在PSP内将不会显示已打包的游戏。</p>\n<p>2 PSP_GAME文件夹中两个图片可以替换成其他图片，但文件名（包括大小写）和图片分辨率不可更改。</p>\n<p>​        需将要修改的图片放入PSP_GAME文件夹中。其中：</p>\n<p>​        ICON0.PNG  为选游戏时的小图标</p>\n<p>​        PIC1.PNG  为选游戏时的背景图片</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E6%89%93%E5%8C%85%E4%BF%AE%E6%94%B9%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%83%8F.jpg\" class=\"\">\n</div>\n\n<hr>\n<h2 id=\"三、中级用法\"><a href=\"#三、中级用法\" class=\"headerlink\" title=\"三、中级用法\"></a>三、中级用法</h2><h3 id=\"标题界面和菜单界面\"><a href=\"#标题界面和菜单界面\" class=\"headerlink\" title=\"标题界面和菜单界面\"></a>标题界面和菜单界面</h3><h4 id=\"标题界面\"><a href=\"#标题界面\" class=\"headerlink\" title=\"标题界面\"></a>标题界面</h4><p>​        标题界面是指游戏开始之后，玩家进行游戏功能选择的位置。一般游戏的标题界面主要包含几个选项：“<strong>开始游戏</strong>”，“<strong>读取存档</strong>”，“<strong>CG/音乐鉴赏</strong>”和“<strong>退出游戏</strong>”等选项，这些选项不全是固定的，但是“<strong>开始游戏</strong>”这个选项是一定要有的，否则玩家无法进行游戏。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E6%B8%B8%E6%88%8F%E6%A0%87%E9%A2%98%E7%95%8C%E9%9D%A2.jpg\" class=\"\">\n</div>\n\n<hr>\n<h5 id=\"标题界面配置文件\"><a href=\"#标题界面配置文件\" class=\"headerlink\" title=\"标题界面配置文件\"></a>标题界面配置文件</h5><p>​        标题界面的文件配置位置和名称没有固定要求，不过我一般将标题界面单独配置成一个title.ev文件放在<code>src\\user</code>文件夹中，和剧情脚本放在一起。这样设置之后PGM游戏的文本读取逻辑顺序基本为：</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E7%AE%80%E5%8D%95%E6%B5%81%E7%A8%8B.jpg\" class=\"\">\n</div>\n\n<p>下面详细讲解启动流程：</p>\n<ol>\n<li><p>开始游戏后，系统在am_start.ev中读取配置信息，一般会在am_start.ev文件里配置游戏开始前的一些宣传信息或游戏启动动画。之后jump到title.ev。</p>\n</li>\n<li><p>在title.ev中设置标题界面的UI参数，比如各个按钮的位置，以及标题界面的背景图片和背景音乐等。在开始游戏按钮处设置其被执行之后的动作，一般是点击开始游戏之后直接进入剧情脚本。</p>\n</li>\n<li><p>01.ev、02.ev等等为剧情脚本，剧情脚本之间的关系可以为一条线顺序进行，也可以在剧情脚本之间设置分支。最后剧情脚本最后一章执行完毕之后，需返回am_start.ev。</p>\n</li>\n</ol>\n<hr>\n<h5 id=\"标题界面参数讲解\"><a href=\"#标题界面参数讲解\" class=\"headerlink\" title=\"标题界面参数讲解\"></a>标题界面参数讲解</h5><p>选项设置比较复杂，下面举例讲解：</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/snap005.jpg\" class=\"\">\n</div>\n\n<p>上述界面构成主要有<strong>背景图片</strong>、<strong>游戏选项</strong>、<strong>背景音乐</strong>。其整体配置文件如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">stageclear()\nallclear()\n\nspeakmode(speak_mode_sample)\n\n--设置标题标签\n*title\n_bg(1,&quot;backTitle.jpg&quot;,0,200)\nbgxy(1,0,0)\nbgon(1)\n\nbgm(&quot;theme.mp3&quot;)\nmp3volume(1,200)\n\n--设置标题分支\n*title_select\nSET_TITLE_COORD(330,100,0,28)\nSET_TITLE_BUTTON(&quot;title_start.png&quot;,&quot;title_load.png&quot;,&quot;title_album.png&quot;,&quot;title_thanks.png&quot;,&quot;title_quit.png&quot;)\ndrawtitle(*newgame,*load,*album,*thanks,*exit)\n\n--标签：新游戏\n*newgame\nallclear()\njump(&quot;01.ev&quot;)\n\n--标签：读取存档\n*load\ndrawload()\ngoto(*title_select)\n\n--标签：鉴赏模式\n*album\nbgnull(1)\ndrawsfind(&quot;cg_find_page_1.lua&quot;)\n\n--标签：致谢界面\n*thanks\nallclear()\njump(&quot;thanks.ev&quot;)\n\n--标签：退出游戏\n*exit\nQUIT()</code></pre>\n\n\n\n<hr>\n<p>系统部分</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">stageclear()\nallclear()\n\nspeakmode(speak_mode_sample)</code></pre>\n\n<p><code>stageclear()</code>：能清除加载的全部数据，恢复默认数据。</p>\n<p><code>allclear()</code>：清除背景图片、立绘。</p>\n<p><code>speakmode(speak_mode_sample)</code>：对话模式，参数speak_mode_sample代表简单对话模式，非自动模式也非快进模式。</p>\n<hr>\n<p>标题标签</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--设置标题标签\n*title\n_bg(1,&quot;backTitle.jpg&quot;,0,200)\nbgxy(1,0,0)\nbgon(1)\n\nbgm(&quot;theme.mp3&quot;)\nmp3volume(1,200)</code></pre>\n\n<p><code>*title</code>：设置一个为title的标签，方便后续做跳转使用。</p>\n<p><code>mp3volume(1,200)</code>：局部设置mp3播放的音量，参数中的“1”代表音频编号为1的mp3；参数中的“200”表示想要设置的音量值，数值越大音量越大。</p>\n<hr>\n<p>标题分支设置</p>\n<p>​        此处为显示游戏标题界面选项的关键所在，SET_TITLE_COORD设置了选项的大致位置和步进尺寸；SET_TITLE_BUTTON设置了相关选项的图片资源；drawtitle完成了选项标签的指定。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--设置标题分支\n*title_select\nSET_TITLE_COORD(330,100,0,28)\nSET_TITLE_BUTTON(&quot;title_start.png&quot;,&quot;title_load.png&quot;,&quot;title_album.png&quot;,&quot;title_thanks.png&quot;,&quot;title_quit.png&quot;)\ndrawtitle(*newgame,*load,*album,*thanks,*exit)</code></pre>\n\n<p><code>*title_select</code>：设置了标题分支。</p>\n<p><code>SET_TITLE_COORD(330,100,0,28)</code>：参数“330”为选项组在屏幕上的横坐标；参数“100”为选项组在屏幕上的纵坐标。参数“0”为在选项之间选择时，焦点在横向上的位移，为零就代表是垂直的上下位移；参数“28”在选项之间选择时，焦点在纵向上的位移，代表上下位移的步进为28个像素。</p>\n<p><code>SET_TITLE_BUTTON(&quot;title_start.png&quot;,&quot;title_load.png&quot;,&quot;title_album.png&quot;,&quot;title_thanks.png&quot;,&quot;title_quit.png&quot;)</code>：为标题界面的选项设置了相应的图片资源，其数量和顺序需要与下方的drawtitle()命令中一致。</p>\n<p><code>drawtitle(*newgame,*load,*album,*thanks,*exit)</code>：设置了标题界面一共有多少个选项以及其顺序。</p>\n<hr>\n<p>开始游戏标签</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--标签：新游戏\n*newgame\nallclear()\njump(&quot;01.ev&quot;)</code></pre>\n\n<p><code>*newgame</code>：开始游戏标签，此处标签名称需要与drawtitle()中一致。</p>\n<p><code>jump(&quot;01.ev&quot;)</code>：脚本间跳转，跳转到01.ev，执行开始游戏之后，就会跳转到01.ev剧情脚本，开始游戏。</p>\n<hr>\n<p>读取存档标签</p>\n<p><strong>读取存档基本为以下固定格式，绝大多数情况不需要修改。</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--标签：读取存档\n*load\ndrawload()\ngoto(*title_select)</code></pre>\n\n<p><code>*load</code>：读取存档标签，此处标签名称需要与drawtitle()中一致。</p>\n<p><code>drawload()</code>：调用读档界面的固定命令。</p>\n<p><code>goto(*title_select)</code>：脚本内跳转，跳转到指定标签。</p>\n<hr>\n<p>鉴赏模式标签</p>\n<p>​        鉴赏模式比较难以理解，需要多次调试才能得到满意的效果。关于鉴赏模式更详细的内容，将在第四章高级用法中讲解。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--标签：鉴赏模式\n*album\nbgnull(1)\ndrawsfind(&quot;cg_find_page_1.lua&quot;)</code></pre>\n\n<p><code>*album</code>：鉴赏模式标签，此处标签名称需要与drawtitle()中一致。</p>\n<p><code>bgnull(1)</code>：清除背景图片，在进入鉴赏模式之前清除标题菜单的背景图片，避免长生影响。参数“1”代表清除图片参数为1的背景图片。</p>\n<p><code>drawsfind(&quot;cg_find_page_1.lua&quot;)</code>：使用PGM的“调查模式”来实现鉴赏功能。</p>\n<hr>\n<p>致谢界面</p>\n<p>​        致谢界面为非必须界面，但我移植的作品都包含这个界面，在这个界面对帮助过我的人表达感谢和写一些自己的移植感悟，还有留下自己的联系方式。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--标签：致谢界面\n*thanks\nallclear()\njump(&quot;thanks.ev&quot;)</code></pre>\n\n<p><code>*thanks</code>：致谢界面标签，此处标签名称需要与drawtitle()中一致。</p>\n<p><code>jump(&quot;thanks.ev&quot;)</code>：脚本间跳转，一般我都会为致谢界面单独创建一个文本。</p>\n<hr>\n<p>退出游戏</p>\n<p>​        退出游戏的选项必不可少，必须包含，一般使用下面的格式即可，无需更改。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--标签：退出游戏\n*exit\nQUIT()</code></pre>\n\n<p><code>*exit</code>：退出游戏标签，此处标签名称需要与drawtitle()中一致。</p>\n<p><code>QUIT()</code>：PGM的退出游戏命令。</p>\n<hr>\n<h5 id=\"标题界面选项图片\"><a href=\"#标题界面选项图片\" class=\"headerlink\" title=\"标题界面选项图片\"></a>标题界面选项图片</h5><p>​        选项图片可以在焦点移动到本选项时，自动切换显示另一张图像，由此可实现焦点在本选项时高亮的效果。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/snap005.jpg\" class=\"\">\n</div>\n\n<p>想要达到这种效果，图片示例如下：</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/title_start.png\" class=\"\">\n</div>\n\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/title_thanks.png\" class=\"\">\n</div>\n\n<p>​        需要将选项未选择到时想展示的图片放在上部，选项被选择时想展示的图片放在下部。</p>\n<hr>\n<h4 id=\"菜单及系统界面\"><a href=\"#菜单及系统界面\" class=\"headerlink\" title=\"菜单及系统界面\"></a>菜单及系统界面</h4><h5 id=\"菜单界面配置文件\"><a href=\"#菜单界面配置文件\" class=\"headerlink\" title=\"菜单界面配置文件\"></a>菜单界面配置文件</h5><p>​        若需要对界面的选项排布做更改，如增加或删除选项，就需要处理界面脚本。界面脚本位于<code>src</code>文件夹中，配置文件的文件名为<code>ce_init.lua</code>，此文件使用任何文本编辑器都可直接打开。</p>\n<p>打开后，主要可更改的配置如下：</p>\n<hr>\n<p>游戏信息</p>\n<p>​        首先是游戏信息部分，针对此部分的更改将影响游戏的外部属性，如游戏名称、游戏版本、游戏存档详细信息，游戏存档数量、游戏存档方式和系统声音选项。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n-- game msg var\n-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n-- 如果想使用psp官方存档,GAME_NAME不得超过12个字符\nGAME_NAME &#x3D; &quot;PGMCE&quot;\nGAME_VERSION &#x3D; 1.0\nGAME_MSG &#x3D; &quot;PocketGameMaker-ConvertedEdition-&quot;\nGAME_SAVELISTSIZE &#x3D; 8\nGAME_SAVEMODE &#x3D; PGMPSP\nCreatePGMSaveFolder()\n\nDEFAULT_SOUND &#x3D; &quot;system&#x2F;nil.wav&quot;\nCERTAIN_SOUND &#x3D; &quot;system&#x2F;certain.wav&quot;\nCANCEL_SOUND &#x3D; &quot;system&#x2F;cancel.wav&quot;</code></pre>\n\n<p><strong>GAME_NAME</strong>：此选项为游戏名称，若想要在PSP官方存档模式下更改游戏名称，更改后的名称不能超过12个字符。但游戏名称并不是只可以在此处设置，在游戏的SFO文件中也可以更改游戏名称</p>\n<p><strong>GAME_VERSION</strong>：游戏版本，游戏的版本号可以在此处设置。也可以在游戏的SFO文件中设置。</p>\n<p><strong>GAME_MSG</strong>：游戏存档信息，此处显示的信息是每次存档时，对存档的一个备注信息，用于区分存档。但是技术有限，在本教程中我并未掌握如何动态的设置此信息。此处设置为“PocketGameMaker-ConvertedEdition-”是静态的，有多个存档时，从外表看，每个存档都一样，起不到区分存档的作用。</p>\n<p><strong>GAME_SAVELISTSIZE</strong>：游戏存档数量，此处可以设置游戏的最大存档数量，默认为8。如果认为数量不够的话，可自行设置。</p>\n<p><strong>GAME_SAVEMODE</strong>：存档方式，可选的存档方式有两种。</p>\n<ul>\n<li><p>PSP官方存档模式：将此处设置为<code>PGMPSP</code>，是PSP官方的存档模式，一般我移植的游戏都使用此模式；</p>\n</li>\n<li><p>PGM存档模式：将此处设置为<code>PGMPC</code>，使用PGM内部的存档。</p>\n</li>\n</ul>\n<p>**CreatePGMSaveFolder()**：系统创建存档的函数，此处不可更改！</p>\n<p><strong>DEFAULT_SOUND</strong>：游戏中除“确定”和“取消”按键的音效，可自行更改。</p>\n<p><strong>CERTAIN_SOUND</strong>：游戏中确定键的音效，可自行更改。</p>\n<p><strong>CANCEL_SOUND</strong>：游戏中取消键的音效，可自行更改。</p>\n<hr>\n<p>对话框设定</p>\n<p>​        针对对话框的设定主要包括：对话框图片、对话框图层数、对话框原点横坐标和对话框原点纵坐标。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- 对话框设定\nMSGBOX &#x3D; &quot;msgbox01.png&quot;\nMSGBOX_NUM &#x3D; 10\nMSGBOX_DX &#x3D; 0\nMSGBOX_DY &#x3D; 272-116</code></pre>\n\n<p><strong>MSGBOX</strong>：对话框图片，此处可以设置哪个图片作为对话框。此处的图片以IMG_8888方式显示，支持带有透明通道。</p>\n<p><strong>MSGBOX_NUM</strong>：对话框图层数，对话框从图片大类上讲属于fg大类，也就是属于立绘，具体其占用哪个图层可以自行决定，个人建议设置在20至25之间，这样既在单一章节给人物立绘预留了充足的图层数（当设置为20时，给人物立绘预留了10多个图层），又给其他功能预留了图层。</p>\n<p><strong>MSGBOX_DX</strong>：对话框原点横坐标，设置对话框原点横向距离上屏幕边缘的像素数量。</p>\n<p><strong>MSGBOX_DY</strong>：对话框原点纵坐标，设置对话框原点纵向距离上屏幕边缘的像素数量。</p>\n<hr>\n<p>名字设定</p>\n<p>​        此处的名字是指游戏剧情脚本中，涉及人物名字的对话中人物名字的显示位置。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- 名字设定\nMSGNAME_NUM &#x3D; 32\nMSGNAME_DX &#x3D; MSGBOX_DX+65\nMSGNAME_DY &#x3D; MSGBOX_DY+33-DIALOG_FONT_HEIGHT</code></pre>\n\n<p><strong>MSGNAME_NUM</strong>：人物名字的图层数，默认设置为了32。</p>\n<p><strong>MSGNAME_DX</strong>：人物名字的原点横坐标，默认设置是在对话框原点横坐标上向右偏移65个像素。这种设置的好处是使名字和对话框有固定的距离，便于调整。人物的名字一般都在对话框的左上方，当更改对话框原点坐标时，名字原点的坐标也跟着一起移动，二者之间形成一种绑定状态，不会出现对话框和名字错位等现象。</p>\n<p><strong>MSGNAME_DY</strong>：人物名字的原点纵坐标，默认设置是在对话框原点纵坐标基础上减去对话文本的文字高度又向下偏移33个像素。关于名字原点的纵坐标可以自行设置，不同游戏有不同的排布方式。</p>\n<hr>\n<p>对话文本设定</p>\n<p>​        对话文本就是剧情脚本中被text()所包裹，需要在游戏过程中显示的文本。可以设置的选项有：对话文本原点的横坐标、对话文本原点的纵坐标、对话文本的单行最大文字数和对话文本的最大行数。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- 对话文本设定\nMSGTEXT_DX &#x3D; MSGBOX_DX+35\nMSGTEXT_DY &#x3D; MSGBOX_DY+40\nMSGTEXT_LINELEN &#x3D; 50\nMSGTEXT_LINEMAX &#x3D; 3</code></pre>\n\n<p><strong>MSGTEXT_DX</strong>：对话文本原点横坐标，默认为在对话框原点横坐标基础上向右偏移35个像素。</p>\n<p><strong>MSGTEXT_DY</strong>：对话文本原点纵坐标，默认为在对话框原点纵坐标基础上向下偏移40个像素。</p>\n<p><strong>MSGTEXT_LINELEN</strong>：对话文本的单行最大文字数，默认为50，即单行最大可显示50个文字，超出50个的文字将自动切换至下一行显示。建议自行根据游戏进行调整。</p>\n<p><strong>MSGTEXT_LINEMAX</strong>：对话文本的最大行数，默认为3。单次显示对话文本的最大行数，若单次文本量很大，3行都不能完全1次显示，则会自动清屏，在下一个对话中显示剩余的文本。</p>\n<hr>\n<p>立绘参数设定</p>\n<p>​        以下都可以当作变量，在此处统一赋值，之后在脚本中使用。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- 立绘参数设定\nFG_CENTER_DX &#x3D; 0\nFG_CENTER_DY &#x3D; 0\nFG_LEFT_DX &#x3D; -120\nFG_LEFT_DY &#x3D; 0\nFG_RIGHT_DX &#x3D; 120\nFG_RIGHT_DY &#x3D; 0\nFG_MOST_LEFT_DX &#x3D; -240\nFG_MOST_LEFT_DY &#x3D; 0\nFG_MOST_RIGHT_DX &#x3D; 240\nFG_MOST_RIGHT_DY &#x3D; 0\nFG_BACK_DX &#x3D; 0\nFG_BACK_DY &#x3D; 0</code></pre>\n\n<p>FG_CENTER_DX、FG_CENTER_DY：立绘显示在中间时的横、纵坐标。</p>\n<p>FG_LEFT_DX、FG_LEFT_DY：立绘显示在左侧时的横、纵坐标。</p>\n<p>FG_RIGHT_DX、FG_RIGHT_DY：立绘显示在右侧时的横、纵坐标。</p>\n<p>FG_MOST_LEFT_DX、FG_MOST_LEFT_DY：立绘显示在最左侧时的横、纵坐标，最左侧比左侧更向左。</p>\n<p>FG_MOST_RIGHT_DX、FG_MOST_RIGHT_DY：立绘显示在最右侧时的横、纵坐标，最右侧比右侧更向右。</p>\n<p>FG_BACK_DX、FG_BACK_DY：立绘显示在中间的情况，设置此参数的目的是为了应对某些游戏会有堆叠显示立绘的情况。</p>\n<hr>\n<p>效果过渡时间设定</p>\n<p>​        PGM中时间的对应方式为：1000为1秒。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- 效果过渡时间设定\nBG_FADETIME &#x3D; 800\nFG_FADETIME &#x3D; 600\nMSGBOX_FADETIME &#x3D; 300\nQUAKE_FADETIME &#x3D; 500\nBGM_FADETIME &#x3D; 800</code></pre>\n\n<p>BG_FADETIME：背景图片渐出的过渡时间。</p>\n<p>FG_FADETIME：立绘图片渐出的过渡时间。</p>\n<p>MSGBOX_FADETIME：文字背景框的渐出过渡时间。</p>\n<p>QUAKE_FADETIME：震动效果的渐出过渡时间。</p>\n<p>BGM_FADETIME：背景音乐的渐出过渡时间。</p>\n<hr>\n<p>字体信息设定</p>\n<p>​        在此处的字体设定为全局字体设定。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n-- font msg constant var\n-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nFONT &#x3D; &quot;fz.ttf&quot;\nFONTSIZE &#x3D; 11\nFONTCOLOR &#x3D; MAKE_RGBA_4444(0,0,0,255)\nFONTWIDTH &#x3D; 16\nFONTHEIGHT &#x3D; 18\nam_font_getinstance()</code></pre>\n\n<p>FONT：字体，此处可指定想使用的字体，仅支持ttf格式字体。</p>\n<p>FONTSIZE：字号，字体大小。</p>\n<p>FONTCOLOR：字体颜色，此处可以全局设置字体颜色。RGBA格式，改变括号内参数即可。</p>\n<p>FONTWIDTH：字体宽度。</p>\n<p>FONTHEIGHT：字体高度。</p>\n<p>am_font_getinstance()：读取以上的设置，假如上面的已经在别处提早设置过时，将不给予读取。即该指令无效，也就是说，你不能在除这以外的地方设置FONT_PATH，FONT_SIZE，FONT_COLOR，想在别处更改且可以读取的话需修改脚本。</p>\n<hr>\n<p>对话框相关设定</p>\n<p>​        DIALOG_ICON和DIALOG_AUTO_ICON分别是指这两个图标。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%87%AA%E5%8A%A8%E5%9B%BE%E6%A0%87%E5%92%8C%E5%AF%B9%E8%AF%9D%E5%9B%BE%E6%A0%87.jpg\" class=\"\">\n</div>\n\n<p>​        其中DIALOG_ICON比较特殊，可以为其设置动画，需将一连串的动态图片横向拼接为一个图片。如下图所示，如果你想自定义为其他图片，建议保持图片的大小尺寸与例子一致。总尺寸为384X24，图片动画需设置为12张。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/win_wait_a.png\" class=\"\">\n</div>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n-- dialog module constant var\n-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nDIALOG_ICON &#x3D; &quot;win_wait_a.png&quot;\nDIALOG_ICON_SPEED &#x3D; 50\nDIALOG_ICON_DX &#x3D; 410\nDIALOG_ICON_DY &#x3D; 258\nDIALOG_ICON_SIZE &#x3D; 22\nDIALOG_AUTO_ICON &#x3D; &quot;auto_icon.png&quot;\nDIALOG_AUTO_ICON_DX &#x3D; 0\nDIALOG_AUTO_ICON_DY &#x3D; 0\nDIALOG_AUTO_ICON_TICK &#x3D; 350\nDIALOG_AUTO_TICK &#x3D; 2000\nDIALOG_SOUND &#x3D; DEFAULT_SOUND</code></pre>\n\n<p>DIALOG_ICON：对话图标，指定相应图片资源文件。</p>\n<p>DIALOG_ICON_SPEED：控制对话图标动画速度。</p>\n<p>DIALOG_ICON_DX、DIALOG_ICON_DY：推测为对话图标的最大限制位置，因为对话图标是根据对话结尾自动确定显示位置的。</p>\n<p>DIALOG_ICON_SIZE：对话图标大小。</p>\n<p>DIALOG_AUTO_ICON：自动模式指示图标，指定相应图片资源文件。</p>\n<p>DIALOG_AUTO_ICON_DX、DIALOG_AUTO_ICON_DY：自动模式指示图标的位置。</p>\n<p>DIALOG_AUTO_ICON_TICK：自动模式指示图标的刷新率。</p>\n<p>DIALOG_AUTO_TICK：自动模式下，对话进行的速度。</p>\n<p>DIALOG_SOUND：对话加载时的音效。此处为“DEFAULT_SOUND”，DEFAULT_SOUND在其他位置已经设置过，所以可以直接引用。</p>\n<hr>\n<p>功能菜单设定</p>\n<p>​        功能菜单是指完成游戏基本功能的菜单。基本功能包括：SKIP（跳过模式）、AUTO（自动模式）、LOAD（读档）、SAVE（存档）和QUIT（退出游戏）。</p>\n<p>​        唤出方式可以用鼠标点击游戏窗口上部，也可以通过键盘的B按键唤出。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E5%8A%9F%E8%83%BD%E8%8F%9C%E5%8D%95.jpg\" class=\"\">\n</div>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n-- menu module constant var\n-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nMENU_BOX &#x3D; &quot;menu_box.png&quot;\nMENU_BOX_DX &#x3D; 142\nMENU_BOX_DY &#x3D; -8\nMENU_ICON &#x3D; &quot;hand_icon01.png&quot;\nMENU_ICON_DX &#x3D; 170\nMENU_ICON_DY &#x3D; 78\nMENU_ICON_STEP_DX &#x3D; 0\nMENU_ICON_STEP_DY &#x3D; 26\nMENU_BUTTON &#x3D; &#123;&quot;menu_skip.png&quot;,&quot;menu_auto.png&quot;,&quot;menu_load.png&quot;,&quot;menu_save.png&quot;,&quot;menu_quit.png&quot;&#125;\nMENU_BUTTON_DX &#x3D; 210\nMENU_BUTTON_DY &#x3D; 80\nMENU_BUTTON_STEP_DX &#x3D; 0\nMENU_BUTTON_STEP_DY &#x3D; 26\nMENU_BUTTON_COUNT &#x3D; 5\nMENU_SOUND &#x3D; DEFAULT_SOUND\nMENU_CONTROL_MODE &#x3D; 2  -- 1左右控制、2上下控制</code></pre>\n\n<p>MENU_BOX、MENU_BOX_DX、MENU_BOX_DY：这三项不知道是啥，我没找到原图片也没用用过这个设置。建议不要动，保持原样。</p>\n<p>MENU_ICON：选项指示图标，也就是上图中指向右侧的手形图标。</p>\n<p>MENU_ICON_DX、MENU_ICON_DY：选项指示图标的初始位置横、纵坐标。</p>\n<p>MENU_ICON_STEP_DX、MENU_ICON_STEP_DY：选项指示图标的步进量。</p>\n<p>MENU_BUTTON：功能按钮，此处可设置功能按钮对应的图片资源，需注意顺序。如果想更改图片资源，建议直接将想使用的图片命名为设置中的名字，尽量不要更改设置重新命名。</p>\n<p>MENU_BUTTON_DX、MENU_BUTTON_DY：功能按钮的初始横、纵坐标。</p>\n<p>MENU_BUTTON_STEP_DX、MENU_BUTTON_STEP_DY：功能按钮的步进量。</p>\n<p>MENU_BUTTON_COUNT：功能按钮数量。</p>\n<p>MENU_SOUND：功能按钮的声音。</p>\n<p>MENU_CONTROL_MODE：功能按钮控制模式。</p>\n<ul>\n<li><p>若设置为“2”，则5个按钮的排列方式是上下排成一列。</p>\n</li>\n<li><p>若设置为“1”，则5个按钮的排列方式是左右排成一排。</p>\n</li>\n</ul>\n<hr>\n<p>支线菜单设定</p>\n<p>​        当游戏进行到特定阶段时，可能有需要玩家进行选择的情况。根据选择的不同，游戏剧情也可能会有不同，这就是支线菜单。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n-- ramus module constant var\n-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nRAMUS_ICON &#x3D; &quot;hand_icon02.png&quot;\nRAMUS_ICON_DX &#x3D; 120\nRAMUS_ICON_DY &#x3D; 74\nRAMUS_ICON_STEP_DX &#x3D; 0\nRAMUS_ICON_STEP_DY &#x3D; 35\nRAMUS_BUTTON_BG &#x3D; &quot;ramus_bg.png&quot;\nRAMUS_BUTTON_BG_DX &#x3D; 60\nRAMUS_BUTTON_BG_DY &#x3D; 60\nRAMUS_BUTTON_DX &#x3D; 94\nRAMUS_BUTTON_DY &#x3D; 68\nRAMUS_BUTTON_STEP_DX &#x3D; 0\nRAMUS_BUTTON_STEP_DY &#x3D; 35\nRAMUS_BUTTON_ICON_MODE &#x3D; 2\nRAMUS_SOUND &#x3D; DEFAULT_SOUND</code></pre>\n\n<p>RAMUS_ICON：支线指示图标，指示当前选定了哪个选项。</p>\n<p>RAMUS_ICON_DX、RAMUS_ICON_DY：支线指示图标的初始横、纵坐标。</p>\n<p>RAMUS_ICON_STEP_DX、RAMUS_ICON_STEP_DY：支线指示图标的步进量。</p>\n<p>RAMUS_BUTTON_BG：支线选项背景，此背景的处理方式与“标题界面选项图片”处理方法一致。图片上部为未选定状态，图片下部为选定状态。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/ramus_bg.png\" class=\"\">\n</div>\n\n<p>RAMUS_BUTTON_BG_DX、RAMUS_BUTTON_BG_DY：支线选项背景的横、纵坐标。</p>\n<p>RAMUS_BUTTON_DX、RAMUS_BUTTON_DY：支线选项的横、纵坐标。</p>\n<p>RAMUS_BUTTON_STEP_DX、RAMUS_BUTTON_STEP_DY：支线选项的步进量。</p>\n<p>RAMUS_BUTTON_ICON_MODE：支线指示图标的模式，同“功能按钮控制模式”。设置“2”为上下移动，设置“1”为左右移动。</p>\n<hr>\n<h5 id=\"游戏系统设定菜单\"><a href=\"#游戏系统设定菜单\" class=\"headerlink\" title=\"游戏系统设定菜单\"></a>游戏系统设定菜单</h5><p>​        在PGM中，游戏系统设定菜单主要包含以下几个功能：“设置背景音乐大小”、“设置背景音效大小”和“设置阅读速度”。此处设置的阅读速度是指正常模式下游戏文本的显示速度。</p>\n<p>​        此菜单也可以自行设置，但目前精力有限，并没有研究如何对其进行设置。</p>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E5%AE%9A.jpg\" class=\"\">\n</div>\n\n<hr>\n<h3 id=\"标签跳转\"><a href=\"#标签跳转\" class=\"headerlink\" title=\"标签跳转\"></a>标签跳转</h3><p>​        PGM可以实现在一个剧情脚本内设置标签，然后跳转到特定标签的功能。此功能多用于有选择的位置，如游戏中根据不同的选项有不同的进展，或者是标题菜单等。</p>\n<p>标签跳转的命令如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--标签跳转命令\ngoto(*lable01)\n\n......  --此处的点代表剧情脚本中的其他内容\n......  --此处的点代表剧情脚本中的其他内容\n......  --此处的点代表剧情脚本中的其他内容\n\n*lable01  --要跳转到的标签位置</code></pre>\n\n<p>​        在剧情脚本中使用标签跳转命令后，程序会直接跳过<code>goto(*lable01)</code>和<code>*lable01</code>之间的内容，二者之间的任何内容都不会被执行。</p>\n<hr>\n<h3 id=\"脚本跳转\"><a href=\"#脚本跳转\" class=\"headerlink\" title=\"脚本跳转\"></a>脚本跳转</h3><p>​        脚本跳转是指“剧情脚本之间的跳转”或者是“程序脚本和剧情脚本之间的跳转”。但大多数情况前者应用场景较多。</p>\n<p>​        剧情脚本之间的跳转，当游戏内容过多时，可以将游戏剧情脚本拆分成不同的章节，从上一章跳转到下一章时，就需要使用脚本跳转命令。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">--脚本跳转命令\njump(file)\n\n--jump命令后的命令不会被程序执行，因为当前已经在下一个制定的脚本中了。\ntext(&quot;本文本不会被显示。&quot;)</code></pre>\n\n<p>​        此命令绝大多数情况会被使用在剧情脚本末尾，因为一旦执行了这个命令，程序就会跳转到指定的剧情脚本，而不再执行当前脚本中此命令后命令。</p>\n<hr>\n<h3 id=\"分支选项\"><a href=\"#分支选项\" class=\"headerlink\" title=\"分支选项\"></a>分支选项</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">--分支选项代码\ndrawramus(&quot;分支选项1&quot;,*lable01&quot;,&quot;分支选项2&quot;,*lable02)\n\n*lable01\ntext(&quot;你选择了选项一&quot;)\ntextcl()\n\n*lable02\ntext(&quot;你选择了选项二&quot;)\ntextcl()</code></pre>\n\n<p>分支选项可以使用多个。</p>\n<hr>\n<h3 id=\"文字立绘\"><a href=\"#文字立绘\" class=\"headerlink\" title=\"文字立绘\"></a>文字立绘</h3><p>待续</p>\n<hr>\n<h3 id=\"图片遮片\"><a href=\"#图片遮片\" class=\"headerlink\" title=\"图片遮片\"></a>图片遮片</h3><p>待续</p>\n<hr>\n<h2 id=\"四、高级用法\"><a href=\"#四、高级用法\" class=\"headerlink\" title=\"四、高级用法\"></a>四、高级用法</h2><h3 id=\"脚本处理\"><a href=\"#脚本处理\" class=\"headerlink\" title=\"脚本处理\"></a>脚本处理</h3><p>​        一般而言，视觉小说类游戏以文本为主，文本量巨大。人工编辑校对多有不便，因此学会一些处理方法会有事半功倍的效果。我在移植过程中用到最多的就是正则表达式、和python爬虫。正则表达式用的情况最多，而python爬虫则主要针对一些特殊的游戏获取文本时使用。</p>\n<h4 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h4><p>​        正则表达式具体是什么请自行学习，此处介绍一些处理文本常用的用法，仅提供使用正则表达式处理文本的方法。</p>\n<ul>\n<li>示例01：在每行前一次性添加代码，使用<code>^</code>符号。</li>\n</ul>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%A4%BA%E4%BE%8B01.png\" class=\"\">\n</div>\n\n\n\n<ul>\n<li>示例02：在每行结尾处一次性添加代码</li>\n</ul>\n<div  align=\"center\">\n<img src=\"/post/PGM%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%A4%BA%E4%BE%8B02.png\" class=\"\">\n</div>\n\n\n\n<p>​        还有更多用法，正则表达式是一个十分重要的工具。</p>\n<hr>\n<h3 id=\"变量用法\"><a href=\"#变量用法\" class=\"headerlink\" title=\"变量用法\"></a>变量用法</h3><p>待续</p>\n<hr>\n<h3 id=\"CG鉴赏模式\"><a href=\"#CG鉴赏模式\" class=\"headerlink\" title=\"CG鉴赏模式\"></a>CG鉴赏模式</h3><p>​        PGM中主流的CG鉴赏模式有2大类：</p>\n<ul>\n<li><p>热区版：主要使用摇杆来控制光标移动、点击CG缩略图。此方法在<em><strong>任天之浪</strong></em>的移植作品里比较常见，适合初学者。</p>\n</li>\n<li><p>NewScene版：主要使用按键来实现CG鉴赏功能。此方法在<em><strong>沁ぅ純の寳貝</strong></em>的移植作品里比较常见，但需要各种繁杂的逻辑和代码来完成CG鉴赏，但相关教程已经失传。</p>\n</li>\n</ul>\n<p>待续</p>\n<hr>\n<h3 id=\"音乐鉴赏模式\"><a href=\"#音乐鉴赏模式\" class=\"headerlink\" title=\"音乐鉴赏模式\"></a>音乐鉴赏模式</h3><p>​        PGM也可以针对音乐创建鉴赏模式，但是我移植的作品目前都没有音乐鉴赏模式，此模式有待研究。</p>\n<hr>\n<h2 id=\"五、纠错\"><a href=\"#五、纠错\" class=\"headerlink\" title=\"五、纠错\"></a>五、纠错</h2><p>​        学会如何纠错，在游戏制作、移植过程中尤为重要。</p>\n<p>待续</p>\n","feature":true,"text":" PGM简单教程 beta 0.9 by History_exe 博客：https://history-exe.github.io/ PGM简单教程一、新手上路什么是PGM​ PGM，全称为Pocket Game Maker，是由「掌机开发者之家」的白枫开发。最初制作的意愿是为了...","link":"","photos":[],"count_time":{"symbolsCount":"25k","symbolsTime":"23 mins."},"categories":[{"name":"PSP PGM","slug":"PSP-PGM","count":2,"path":"api/categories/PSP-PGM.json"}],"tags":[{"name":"PSP","slug":"PSP","count":6,"path":"api/tags/PSP.json"},{"name":"移植游戏","slug":"移植游戏","count":3,"path":"api/tags/移植游戏.json"},{"name":"PGM","slug":"PGM","count":2,"path":"api/tags/PGM.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#PGM%E7%AE%80%E5%8D%95%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">PGM简单教程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E6%96%B0%E6%89%8B%E4%B8%8A%E8%B7%AF\"><span class=\"toc-text\">一、新手上路</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AFPGM\"><span class=\"toc-text\">什么是PGM</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%90%AD%E5%BB%BAPGM%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">搭建PGM环境</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E5%A4%B9%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">文件夹介绍</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">根目录介绍</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E5%A4%B9%E5%B1%82%E6%AC%A1%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">文件夹层次介绍</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">文本编辑软件推荐</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">图片处理软件推荐</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%86%E9%A2%91%E7%BC%96%E8%BE%91%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">视频编辑软件推荐</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%A8%8B%E5%BA%8F%E8%84%9A%E6%9C%AC%E5%92%8C%E5%89%A7%E6%83%85%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">程序脚本和剧情脚本</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">二、基础用法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%98%BE%E7%A4%BA%E5%AF%B9%E8%AF%9D\"><span class=\"toc-text\">显示对话</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97\"><span class=\"toc-text\">显示文字</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%A2%9C%E8%89%B2%E6%A0%87%E7%AD%BE\"><span class=\"toc-text\">颜色标签</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%98%BE%E7%A4%BA%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">显示背景</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%98%BE%E7%A4%BA%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">显示背景图片</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%85%B3%E9%97%AD%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">关闭背景图片</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%98%BE%E7%A4%BA%E7%AB%8B%E7%BB%98\"><span class=\"toc-text\">显示立绘</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%98%BE%E7%A4%BA%E7%AB%8B%E7%BB%98%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">显示立绘图片</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%85%B3%E9%97%AD%E7%AB%8B%E7%BB%98%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">关闭立绘图片</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%92%AD%E6%94%BE%E8%A7%86%E9%A2%91\"><span class=\"toc-text\">播放视频</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%92%AD%E6%94%BE%E9%9F%B3%E9%A2%91\"><span class=\"toc-text\">播放音频</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%92%AD%E6%94%BE%E9%9F%B3%E9%A2%91-1\"><span class=\"toc-text\">播放音频</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%81%9C%E6%AD%A2%E6%92%AD%E6%94%BE%E9%9F%B3%E9%A2%91\"><span class=\"toc-text\">停止播放音频</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B0%86%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85%E6%88%90ISO\"><span class=\"toc-text\">将文件打包成ISO</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">打包方法</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9\"><span class=\"toc-text\">注意事项</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E4%B8%AD%E7%BA%A7%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">三、中级用法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A0%87%E9%A2%98%E7%95%8C%E9%9D%A2%E5%92%8C%E8%8F%9C%E5%8D%95%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">标题界面和菜单界面</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A0%87%E9%A2%98%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">标题界面</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%A0%87%E9%A2%98%E7%95%8C%E9%9D%A2%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">标题界面配置文件</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%A0%87%E9%A2%98%E7%95%8C%E9%9D%A2%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\"><span class=\"toc-text\">标题界面参数讲解</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%A0%87%E9%A2%98%E7%95%8C%E9%9D%A2%E9%80%89%E9%A1%B9%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">标题界面选项图片</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%8F%9C%E5%8D%95%E5%8F%8A%E7%B3%BB%E7%BB%9F%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">菜单及系统界面</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E8%8F%9C%E5%8D%95%E7%95%8C%E9%9D%A2%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">菜单界面配置文件</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%B8%B8%E6%88%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E5%AE%9A%E8%8F%9C%E5%8D%95\"><span class=\"toc-text\">游戏系统设定菜单</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A0%87%E7%AD%BE%E8%B7%B3%E8%BD%AC\"><span class=\"toc-text\">标签跳转</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%84%9A%E6%9C%AC%E8%B7%B3%E8%BD%AC\"><span class=\"toc-text\">脚本跳转</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%94%AF%E9%80%89%E9%A1%B9\"><span class=\"toc-text\">分支选项</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%87%E5%AD%97%E7%AB%8B%E7%BB%98\"><span class=\"toc-text\">文字立绘</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%BE%E7%89%87%E9%81%AE%E7%89%87\"><span class=\"toc-text\">图片遮片</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">四、高级用法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%84%9A%E6%9C%AC%E5%A4%84%E7%90%86\"><span class=\"toc-text\">脚本处理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F\"><span class=\"toc-text\">正则表达式</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%98%E9%87%8F%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">变量用法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#CG%E9%89%B4%E8%B5%8F%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">CG鉴赏模式</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%9F%B3%E4%B9%90%E9%89%B4%E8%B5%8F%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">音乐鉴赏模式</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%94%E3%80%81%E7%BA%A0%E9%94%99\"><span class=\"toc-text\">五、纠错</span></a></li></ol></li></ol>","author":{"name":"History_exe","slug":"blog-author","avatar":"https://tvax2.sinaimg.cn/crop.0.0.396.396.180/bfe4ef89ly8fzc7cr76lij20b00b0dga.jpg","link":"/","description":"分享知识","socials":{"github":"https://github.com/History-exe","twitter":"https://twitter.com/History_exe","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"Telegram":{"icon":"/svg/telegram.png","link":"https://t.me/History_exe"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/7345021"},"pixiv":{"icon":"/svg/pixiv.png","link":"https://www.pixiv.net/users/17352856"},"email":{"icon":"/svg/email.png","link":"mailto:history.exe@gmail.com"}}}},"mapped":true,"prev_post":{"title":"PGM Simple Tutorial","uid":"b5002b47db0f6c492994aaa02989f13c","slug":"PGM简易教程_EN","date":"2021-11-01T09:53:03.000Z","updated":"2021-12-30T02:47:42.413Z","comments":true,"path":"api/articles/PGM简易教程_EN.json","keywords":null,"cover":[],"text":" PGM Simple Tutorial beta 0.9 by History_exe Blog：https://history-exe.github.io/ PGM Simple Tutorial1. For the beginningWhat is PGM?​ PGM, t...","link":"","photos":[],"count_time":{"symbolsCount":"54k","symbolsTime":"49 mins."},"categories":[{"name":"PSP PGM","slug":"PSP-PGM","count":2,"path":"api/categories/PSP-PGM.json"}],"tags":[{"name":"PSP","slug":"PSP","count":6,"path":"api/tags/PSP.json"},{"name":"移植游戏","slug":"移植游戏","count":3,"path":"api/tags/移植游戏.json"},{"name":"PGM","slug":"PGM","count":2,"path":"api/tags/PGM.json"}],"author":{"name":"History_exe","slug":"blog-author","avatar":"https://tvax2.sinaimg.cn/crop.0.0.396.396.180/bfe4ef89ly8fzc7cr76lij20b00b0dga.jpg","link":"/","description":"分享知识","socials":{"github":"https://github.com/History-exe","twitter":"https://twitter.com/History_exe","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"Telegram":{"icon":"/svg/telegram.png","link":"https://t.me/History_exe"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/7345021"},"pixiv":{"icon":"/svg/pixiv.png","link":"https://www.pixiv.net/users/17352856"},"email":{"icon":"/svg/email.png","link":"mailto:history.exe@gmail.com"}}}},"feature":true},"next_post":{"title":"Ubuntu和Windows10双系统导致Windows插入耳机无声音","uid":"5a38818936148d2163932f65ec68610e","slug":"Ubuntu和Windows10双系统导致Windows插入耳机无声音","date":"2019-04-19T12:53:24.000Z","updated":"2021-11-06T10:15:29.925Z","comments":true,"path":"api/articles/Ubuntu和Windows10双系统导致Windows插入耳机无声音.json","keywords":null,"cover":null,"text":"问题描述Ubuntu和Windows10双系统。从Ubuntu侧重启至Windows侧时，大概率会导致Windows这边插入耳机之后没有正常的声音。 之前上网查找教程，很多都是解释了声音驱动的问题，但是重新安装驱动并不会解决我遇到的这个问题。 偶然的机会，在实在忍受不了这一问题之...","link":"","photos":[],"count_time":{"symbolsCount":362,"symbolsTime":"1 mins."},"categories":[{"name":"Linux","slug":"Linux","count":6,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":6,"path":"api/tags/Linux.json"},{"name":"Ubuntu","slug":"Ubuntu","count":3,"path":"api/tags/Ubuntu.json"},{"name":"更新中","slug":"更新中","count":3,"path":"api/tags/更新中.json"},{"name":"Windows","slug":"Windows","count":3,"path":"api/tags/Windows.json"}],"author":{"name":"History_exe","slug":"blog-author","avatar":"https://tvax2.sinaimg.cn/crop.0.0.396.396.180/bfe4ef89ly8fzc7cr76lij20b00b0dga.jpg","link":"/","description":"分享知识","socials":{"github":"https://github.com/History-exe","twitter":"https://twitter.com/History_exe","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"Telegram":{"icon":"/svg/telegram.png","link":"https://t.me/History_exe"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/7345021"},"pixiv":{"icon":"/svg/pixiv.png","link":"https://www.pixiv.net/users/17352856"},"email":{"icon":"/svg/email.png","link":"mailto:history.exe@gmail.com"}}}}}}