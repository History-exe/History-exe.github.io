{"title":"Ubuntu删除旧内核","uid":"87c5a146e8bf993bef615c2a5b2f1d34","slug":"2019-03-30-14-21","date":"2019-03-30T06:21:26.000Z","updated":"2025-04-16T05:41:00.637Z","comments":true,"path":"api/articles/2019-03-30-14-21.json","keywords":null,"cover":null,"content":"<h2 id=\"为什么要删除旧内核\"><a href=\"#为什么要删除旧内核\" class=\"headerlink\" title=\"为什么要删除旧内核\"></a>为什么要删除旧内核</h2><p>旧的内核在系统中占用了不必要的空间，为了不影响系统的速度，所以要删除旧的内核。但是有时候会由于新内核不稳定或版本太高，使得某些软件不能正常工作，删除旧内核使用新内核也存在一定风险。<br><strong>另外需要注意，千万不要删错内核。如果对自己的操作没有把握就不要删。</strong></p>\n<h2 id=\"操作步骤\"><a href=\"#操作步骤\" class=\"headerlink\" title=\"操作步骤\"></a>操作步骤</h2><p>1.删除前需确定目前所使用的内核版本。<br>使用的命令是：<br>查看当前系统的相关信息。“$”后面的是代码，每次执行一行。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">uname</span> -a</span><br></pre></td></tr></table></figure>\n<p>显示的信息 从中可以看出系统的内核版本是<strong>4.18.0-10-generic</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ Linux xxx.xxx 4.18.0-10-generic <span class=\"comment\">#11-Ubuntu SMP Thu Oct 11 15:13:55 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</span></span><br></pre></td></tr></table></figure>\n\n<br>\n2.搜索带有linux的文件，输入：\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ dpkg --get-selections | grep linux</span><br></pre></td></tr></table></figure>\n\n\n<p>如果有旧的内核，会在输入上面的命令后出现不同于当前版本的内核。<br>我由于没有旧的内核，所以下面的显示信息中没有其他版本内核。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ binutils-x86-64-linux-gnu                       install</span><br><span class=\"line\">$ console-setup-linux                             install</span><br><span class=\"line\">$ libselinux1:amd64                               install</span><br><span class=\"line\">$ linux-base                                      install</span><br><span class=\"line\">$ linux-firmware                                  install</span><br><span class=\"line\">$ linux-generic                                   install</span><br><span class=\"line\">$ linux-headers-4.18.0-10                         install</span><br><span class=\"line\">$ linux-headers-4.18.0-10-generic                 install</span><br><span class=\"line\">$ linux-headers-generic                           install</span><br><span class=\"line\">$ linux-image-4.18.0-10-generic                   install</span><br><span class=\"line\">$ linux-image-generic                             install</span><br><span class=\"line\">$ linux-libc-dev:amd64                            install</span><br><span class=\"line\">$ linux-modules-4.18.0-10-generic                 install</span><br><span class=\"line\">$ linux-modules-extra-4.18.0-10-generic           install</span><br><span class=\"line\">$ util-linux                                      install</span><br></pre></td></tr></table></figure>\n\n<br>\n3.删除指定版本内核，如果你执行完上述命令，发现了不同版本的内核。需要执行如下命令：\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">remove后面复制上你上面发现的旧版本内核的名字</span><br><span class=\"line\">$ <span class=\"built_in\">sudo</span> apt-get remove</span><br></pre></td></tr></table></figure>\n至此，旧版本内核删除完毕。你也可以再执行一下下面的命令，检查一下效果。\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ dpkg --get-selections | grep linux</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"清除残留\"><a href=\"#清除残留\" class=\"headerlink\" title=\"清除残留\"></a>清除残留</h2><p>如果发现旧版本内核有残留文件。<br>请使用如下自动卸载和清除命令。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">自动卸载命令</span><br><span class=\"line\">$ <span class=\"built_in\">sudo</span> apt-get autoremove</span><br><span class=\"line\"></span><br><span class=\"line\">自动清除命令</span><br><span class=\"line\">$ <span class=\"built_in\">sudo</span> apt-get autoclean</span><br></pre></td></tr></table></figure>\n\n<p>如果执行上述命令后，发现还是有残留的文件。<br>请执行如下命令，对残留文件进行指定删除。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">remove后面复制上你上面发现的残留文件的名字</span><br><span class=\"line\">$ <span class=\"built_in\">sudo</span> apt-get remove</span><br></pre></td></tr></table></figure>","text":"为什么要删除旧内核旧的内核在系统中占用了不必要的空间，为了不影响系统的速度，所以要删除旧的内核。但是有时候会由于新内核不稳定或版本太高，使得某些软件不能正常工作...","permalink":"/post/2019-03-30-14-21","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"Linux","slug":"Linux","count":5,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":5,"path":"api/tags/Linux.json"},{"name":"Ubuntu","slug":"Ubuntu","count":5,"path":"api/tags/Ubuntu.json"},{"name":"snap","slug":"snap","count":1,"path":"api/tags/snap.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%88%A0%E9%99%A4%E6%97%A7%E5%86%85%E6%A0%B8\"><span class=\"toc-text\">为什么要删除旧内核</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">操作步骤</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B8%85%E9%99%A4%E6%AE%8B%E7%95%99\"><span class=\"toc-text\">清除残留</span></a></li></ol>","author":{"name":"History_exe","slug":"blog-author","avatar":"/images/CAT.jpg","link":"/","description":"<p>PSP、PSV玩家</p><p>PSP PTF主题、PSP移植游戏作者</p><p>欢迎通过电报联系，注明来意</p>","socials":{"github":"https://github.com/History-exe","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/images/svg/telegram.svg","link":"https://t.me/History_exe"},"bilibili":{"icon":"/images/svg/bilibili.svg","link":"https://space.bilibili.com/7345021"},"internet_archive":{"icon":"/images/svg/internet_archive.svg","link":"https://archive.org/details/@history_exe"},"email":{"icon":"/images/svg/email.svg","link":"mailto:history.exe@gmail.com"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"ibus不能选择中文备选词","uid":"0a6f8490de3aca9242759fddc3c420be","slug":"2019-04-01-15-38","date":"2019-04-01T07:38:36.000Z","updated":"2025-04-16T05:40:10.154Z","comments":true,"path":"api/articles/2019-04-01-15-38.json","keywords":null,"cover":[],"text":"问题描述就在上周，打开电脑，想进入Ubuntu码字，打开LibreOffice想写一写文章。发现使用ibus输入法时，第一个备选字可以通过空格来选定，正确输入了...","permalink":"/post/2019-04-01-15-38","photos":[],"count_time":{"symbolsCount":460,"symbolsTime":"1 mins."},"categories":[{"name":"Linux","slug":"Linux","count":5,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":5,"path":"api/tags/Linux.json"},{"name":"Ubuntu","slug":"Ubuntu","count":5,"path":"api/tags/Ubuntu.json"},{"name":"ibus拼音输入法","slug":"ibus拼音输入法","count":1,"path":"api/tags/ibus拼音输入法.json"}],"author":{"name":"History_exe","slug":"blog-author","avatar":"/images/CAT.jpg","link":"/","description":"<p>PSP、PSV玩家</p><p>PSP PTF主题、PSP移植游戏作者</p><p>欢迎通过电报联系，注明来意</p>","socials":{"github":"https://github.com/History-exe","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/images/svg/telegram.svg","link":"https://t.me/History_exe"},"bilibili":{"icon":"/images/svg/bilibili.svg","link":"https://space.bilibili.com/7345021"},"internet_archive":{"icon":"/images/svg/internet_archive.svg","link":"https://archive.org/details/@history_exe"},"email":{"icon":"/images/svg/email.svg","link":"mailto:history.exe@gmail.com"}}}}},"next_post":{"title":"解决vscode输出中文乱码","uid":"cfe38f280e298a3de177692a74665a93","slug":"2019-03-20-17-39","date":"2019-03-20T09:39:25.000Z","updated":"2025-04-16T05:41:10.622Z","comments":true,"path":"api/articles/2019-03-20-17-39.json","keywords":null,"cover":[],"text":"由于一些原因，我没有使用IDE来学习代码。而是选择了轻量化的vscode。 在编译C程序的过程中，一直都是在程序内使用英文，如在printf()中输出文字信息。...","permalink":"/post/2019-03-20-17-39","photos":[],"count_time":{"symbolsCount":630,"symbolsTime":"1 mins."},"categories":[{"name":"vscode","slug":"vscode","count":1,"path":"api/categories/vscode.json"}],"tags":[{"name":"Windows","slug":"Windows","count":3,"path":"api/tags/Windows.json"},{"name":"vscode","slug":"vscode","count":1,"path":"api/tags/vscode.json"}],"author":{"name":"History_exe","slug":"blog-author","avatar":"/images/CAT.jpg","link":"/","description":"<p>PSP、PSV玩家</p><p>PSP PTF主题、PSP移植游戏作者</p><p>欢迎通过电报联系，注明来意</p>","socials":{"github":"https://github.com/History-exe","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/images/svg/telegram.svg","link":"https://t.me/History_exe"},"bilibili":{"icon":"/images/svg/bilibili.svg","link":"https://space.bilibili.com/7345021"},"internet_archive":{"icon":"/images/svg/internet_archive.svg","link":"https://archive.org/details/@history_exe"},"email":{"icon":"/images/svg/email.svg","link":"mailto:history.exe@gmail.com"}}}}}}